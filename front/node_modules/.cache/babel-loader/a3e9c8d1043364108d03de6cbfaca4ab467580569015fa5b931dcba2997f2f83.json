{"ast":null,"code":"import { toEndOfMonth, toEndOfPrevMonth, toStartOfMonth, toStartOfNextMonth, whatDay } from \"../utils/DateUtil\";\nimport { changeDate } from \"../utils/changeDate\";\nimport ONLY_REST from \"../assets/json/only-rest-date.json\";\nimport REST_DATA from \"../assets/json/rest-data.json\";\n/**\n * 특정 월의 날짜를 넣으면 해당 월의 리스트를 주는 함수 (미니캘린더와 기본캘린더 같이 사용할 수 있을듯)\n * @param currentMonth {Date} 보여주려고 하는 월 입력\n * @param isBasic {boolean} 기본캘린더 true일 때 공휴일 이름을 표시해줌\n * @return tempList 일-토 기준으로 전월 + 현재월 + 익월의 정보가 있는 리스트 리턴\n */\n\nexport const makeCalendar = function (currentMonth) {\n  let isBasic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const dayList = ['일', '월', '화', '수', '목', '금', '토'];\n  const todayInfo = {\n    year: currentMonth.getFullYear(),\n    month: currentMonth.getMonth() + 1,\n    //  1 ~ 12\n    date: currentMonth.getDate(),\n    day: currentMonth.getDay(),\n    // 0 ~ 6\n    ko: dayList[currentMonth.getDay()]\n  };\n  const firstDayOfThisMonth = toStartOfMonth(currentMonth);\n  const lastDayOfThisMonth = toEndOfMonth(currentMonth);\n  const lastDayOfPrevMonth = toEndOfPrevMonth(currentMonth);\n  const firstDayOfNextMonth = toStartOfNextMonth(currentMonth);\n\n  // 이번달 마지막 날은 언제?\n  const thisMonthLast = {\n    year: lastDayOfThisMonth.getFullYear(),\n    month: lastDayOfThisMonth.getMonth() + 1,\n    date: lastDayOfThisMonth.getDate(),\n    day: lastDayOfThisMonth.getDay(),\n    ko: dayList[lastDayOfThisMonth.getDay()]\n  };\n\n  // 이전 달에 대한 정보\n  const prevMonthLast = {\n    year: lastDayOfPrevMonth.getFullYear(),\n    month: lastDayOfPrevMonth.getMonth() + 1,\n    date: lastDayOfPrevMonth.getDate(),\n    day: lastDayOfPrevMonth.getDay(),\n    ko: dayList[lastDayOfPrevMonth.getDay()]\n  };\n  const nextMonthFirst = {\n    year: firstDayOfNextMonth.getFullYear(),\n    month: firstDayOfNextMonth.getMonth() + 1,\n    date: firstDayOfNextMonth.getDate(),\n    day: firstDayOfNextMonth.getDay(),\n    ko: dayList[firstDayOfNextMonth.getDay()]\n  };\n  const tempList = [];\n\n  // 이전달 내용 표시\n  for (let i = firstDayOfThisMonth.getDay() - 1; i > -1; i--) {\n    const prevMonthRemainDate = prevMonthLast.date - i;\n    const date = changeDate(prevMonthLast.year, prevMonthLast.month, prevMonthRemainDate);\n    const isHoliday = whatDay(date) === 0 || whatDay(date) === 6 || ONLY_REST[\"restDayList\"].includes(date);\n    tempList.push({\n      dateNum: prevMonthRemainDate,\n      fullDate: date,\n      isCurrentMonth: false,\n      isHoliday: isHoliday\n    });\n  }\n\n  // 이번달 내용 표시하기\n  for (let i = 1; i < thisMonthLast.date + 1; i++) {\n    const date = changeDate(todayInfo.year, todayInfo.month, i);\n    const isHoliday = whatDay(date) === 0 || whatDay(date) === 6 || ONLY_REST[\"restDayList\"].includes(date);\n    let temp = {\n      dateNum: i,\n      fullDate: date,\n      isCurrentMonth: true,\n      isHoliday: isHoliday\n    };\n    if (isBasic) {\n      const json = REST_DATA;\n      const thisYearHolidayJson = json[String(todayInfo.year)];\n      if (typeof thisYearHolidayJson[date] === \"string\") {\n        temp[\"daysName\"] = thisYearHolidayJson[date];\n      }\n    }\n    tempList.push(temp);\n  }\n\n  // 다음달 내용 표시\n  for (let i = thisMonthLast.day + 1; i < 7; i++) {\n    const date = changeDate(nextMonthFirst.year, nextMonthFirst.month, i - thisMonthLast.day);\n    const isHoliday = whatDay(date) === 0 || whatDay(date) === 6 || ONLY_REST[\"restDayList\"].includes(date);\n    tempList.push({\n      dateNum: i - thisMonthLast.day,\n      fullDate: date,\n      isCurrentMonth: false,\n      isHoliday: isHoliday\n    });\n  }\n  return tempList;\n};","map":{"version":3,"names":["toEndOfMonth","toEndOfPrevMonth","toStartOfMonth","toStartOfNextMonth","whatDay","changeDate","ONLY_REST","REST_DATA","makeCalendar","currentMonth","isBasic","dayList","todayInfo","year","getFullYear","month","getMonth","date","getDate","day","getDay","ko","firstDayOfThisMonth","lastDayOfThisMonth","lastDayOfPrevMonth","firstDayOfNextMonth","thisMonthLast","prevMonthLast","nextMonthFirst","tempList","i","prevMonthRemainDate","isHoliday","includes","push","dateNum","fullDate","isCurrentMonth","temp","json","thisYearHolidayJson","String"],"sources":["/Users/hyunjoo/cording/typescript/react-rest-manager/front/src/components/makeCalendar.ts"],"sourcesContent":["import {toEndOfMonth, toEndOfPrevMonth, toStartOfMonth, toStartOfNextMonth, whatDay} from \"../utils/DateUtil\";\nimport {changeDate} from \"../utils/changeDate\";\nimport ONLY_REST from \"../assets/json/only-rest-date.json\";\nimport {CalendarList} from \"./mini-calendar\";\nimport REST_DATA from \"../assets/json/rest-data.json\";\nimport {RestDataType} from \"./Calendar\";\n\n/**\n * 특정 월의 날짜를 넣으면 해당 월의 리스트를 주는 함수 (미니캘린더와 기본캘린더 같이 사용할 수 있을듯)\n * @param currentMonth {Date} 보여주려고 하는 월 입력\n * @param isBasic {boolean} 기본캘린더 true일 때 공휴일 이름을 표시해줌\n * @return tempList 일-토 기준으로 전월 + 현재월 + 익월의 정보가 있는 리스트 리턴\n */\n\nexport const makeCalendar = (currentMonth : Date, isBasic = false) => {\n  const dayList = ['일', '월', '화', '수', '목', '금', '토'];\n  const todayInfo = {\n    year: currentMonth.getFullYear(),\n    month: currentMonth.getMonth() + 1, //  1 ~ 12\n    date: currentMonth.getDate(),\n    day: currentMonth.getDay(), // 0 ~ 6\n    ko: dayList[currentMonth.getDay()]\n  };\n\n\n  const firstDayOfThisMonth = toStartOfMonth(currentMonth);\n  const lastDayOfThisMonth = toEndOfMonth(currentMonth);\n  const lastDayOfPrevMonth = toEndOfPrevMonth(currentMonth);\n  const firstDayOfNextMonth = toStartOfNextMonth(currentMonth);\n\n\n  // 이번달 마지막 날은 언제?\n  const thisMonthLast = {\n    year: lastDayOfThisMonth.getFullYear(),\n    month: lastDayOfThisMonth.getMonth() + 1,\n    date: lastDayOfThisMonth.getDate(),\n    day: lastDayOfThisMonth.getDay(),\n    ko: dayList[lastDayOfThisMonth.getDay()]\n  };\n\n  // 이전 달에 대한 정보\n  const prevMonthLast = {\n    year: lastDayOfPrevMonth.getFullYear(),\n    month: lastDayOfPrevMonth.getMonth() + 1,\n    date: lastDayOfPrevMonth.getDate(),\n    day: lastDayOfPrevMonth.getDay(),\n    ko: dayList[lastDayOfPrevMonth.getDay()]\n  };\n\n  const nextMonthFirst = {\n    year: firstDayOfNextMonth.getFullYear(),\n    month: firstDayOfNextMonth.getMonth() + 1,\n    date: firstDayOfNextMonth.getDate(),\n    day: firstDayOfNextMonth.getDay(),\n    ko: dayList[firstDayOfNextMonth.getDay()]\n  };\n\n  const tempList: CalendarList[] = [];\n\n  // 이전달 내용 표시\n  for (let i = firstDayOfThisMonth.getDay() - 1; i > -1; i--) {\n    const prevMonthRemainDate = prevMonthLast.date - i;\n    const date = changeDate(prevMonthLast.year, prevMonthLast.month, prevMonthRemainDate);\n    const isHoliday = whatDay(date) === 0 || whatDay(date) === 6 || ONLY_REST[\"restDayList\"].includes(date);\n    tempList.push({\n      dateNum: prevMonthRemainDate,\n      fullDate: date,\n      isCurrentMonth: false,\n      isHoliday: isHoliday,\n    });\n  }\n\n  // 이번달 내용 표시하기\n  for (let i = 1; i < thisMonthLast.date + 1; i++) {\n    const date = changeDate(todayInfo.year, todayInfo.month, i) as string;\n    const isHoliday = whatDay(date) === 0 || whatDay(date) === 6 || ONLY_REST[\"restDayList\"].includes(date);\n\n    let temp: CalendarList = {\n      dateNum: i,\n      fullDate: date,\n      isCurrentMonth: true,\n      isHoliday: isHoliday,\n    };\n\n    if (isBasic) {\n      const json: RestDataType = REST_DATA;\n      const thisYearHolidayJson = json[String(todayInfo.year)]!;\n\n      if (typeof thisYearHolidayJson[date] === \"string\") {\n        temp[\"daysName\"] = thisYearHolidayJson[date];\n      }\n    }\n\n    tempList.push(temp);\n  }\n\n  // 다음달 내용 표시\n  for (let i = thisMonthLast.day + 1; i < 7; i++) {\n    const date = changeDate(nextMonthFirst.year, nextMonthFirst.month, i - thisMonthLast.day);\n    const isHoliday = whatDay(date) === 0 || whatDay(date) === 6 || ONLY_REST[\"restDayList\"].includes(date);\n    tempList.push({\n      dateNum: i - thisMonthLast.day,\n      fullDate: date,\n      isCurrentMonth: false,\n      isHoliday: isHoliday,\n    });\n  }\n\n  return tempList\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}