{"ast":null,"code":"const subscriptions = {};\nconst getNextUniqueId = getIdGenerator();\nexport function subscribe(eventType, callback) {\n  if (!eventType) {\n    throw new Error();\n  }\n  const id = getNextUniqueId();\n  if (!subscriptions[eventType]) {\n    subscriptions[eventType] = {};\n  }\n  subscriptions[eventType][id] = callback;\n  return {\n    remove: () => {\n      delete subscriptions[eventType][id];\n      if (Object.keys(subscriptions[eventType]).length === 0) {\n        delete subscriptions[eventType];\n      }\n    }\n  };\n}\nexport function publish(eventType, arg) {\n  if (!eventType) {\n    throw new Error();\n  }\n  if (!subscriptions[eventType]) {\n    return;\n  }\n  Object.keys(subscriptions[eventType]).forEach(key => subscriptions[eventType][key](arg));\n}\nfunction getIdGenerator() {\n  let lastId = 0;\n  return function getNextUniqueId() {\n    lastId += 1;\n    return lastId;\n  };\n}","map":{"version":3,"names":["subscriptions","getNextUniqueId","getIdGenerator","subscribe","eventType","callback","Error","id","remove","Object","keys","length","publish","arg","forEach","key","lastId"],"sources":["/Users/hyunjoo/cording/typescript/react-rest-manager/front/src/utils/EventBus.js"],"sourcesContent":["const subscriptions = {};\nconst getNextUniqueId = getIdGenerator();\n\nexport function subscribe(eventType, callback) {\n  if (!eventType) {\n    throw new Error();\n  }\n\n  const id = getNextUniqueId();\n\n  if (!subscriptions[eventType]) {\n    subscriptions[eventType] = {};\n  }\n\n  subscriptions[eventType][id] = callback;\n\n  return {\n    remove: () => {\n      delete subscriptions[eventType][id];\n      if (Object.keys(subscriptions[eventType]).length === 0) {\n        delete subscriptions[eventType];\n      }\n    },\n  };\n}\n\nexport function publish(eventType, arg) {\n  if (!eventType) {\n    throw new Error();\n  }\n  if (!subscriptions[eventType]) {\n    return;\n  }\n\n  Object.keys(subscriptions[eventType]).forEach(key => subscriptions[eventType][key](arg));\n}\n\nfunction getIdGenerator() {\n  let lastId = 0;\n\n  return function getNextUniqueId() {\n    lastId += 1;\n    return lastId;\n  };\n}\n"],"mappings":"AAAA,MAAMA,aAAa,GAAG,CAAC,CAAC;AACxB,MAAMC,eAAe,GAAGC,cAAc,EAAE;AAExC,OAAO,SAASC,SAAS,CAACC,SAAS,EAAEC,QAAQ,EAAE;EAC7C,IAAI,CAACD,SAAS,EAAE;IACd,MAAM,IAAIE,KAAK,EAAE;EACnB;EAEA,MAAMC,EAAE,GAAGN,eAAe,EAAE;EAE5B,IAAI,CAACD,aAAa,CAACI,SAAS,CAAC,EAAE;IAC7BJ,aAAa,CAACI,SAAS,CAAC,GAAG,CAAC,CAAC;EAC/B;EAEAJ,aAAa,CAACI,SAAS,CAAC,CAACG,EAAE,CAAC,GAAGF,QAAQ;EAEvC,OAAO;IACLG,MAAM,EAAE,MAAM;MACZ,OAAOR,aAAa,CAACI,SAAS,CAAC,CAACG,EAAE,CAAC;MACnC,IAAIE,MAAM,CAACC,IAAI,CAACV,aAAa,CAACI,SAAS,CAAC,CAAC,CAACO,MAAM,KAAK,CAAC,EAAE;QACtD,OAAOX,aAAa,CAACI,SAAS,CAAC;MACjC;IACF;EACF,CAAC;AACH;AAEA,OAAO,SAASQ,OAAO,CAACR,SAAS,EAAES,GAAG,EAAE;EACtC,IAAI,CAACT,SAAS,EAAE;IACd,MAAM,IAAIE,KAAK,EAAE;EACnB;EACA,IAAI,CAACN,aAAa,CAACI,SAAS,CAAC,EAAE;IAC7B;EACF;EAEAK,MAAM,CAACC,IAAI,CAACV,aAAa,CAACI,SAAS,CAAC,CAAC,CAACU,OAAO,CAACC,GAAG,IAAIf,aAAa,CAACI,SAAS,CAAC,CAACW,GAAG,CAAC,CAACF,GAAG,CAAC,CAAC;AAC1F;AAEA,SAASX,cAAc,GAAG;EACxB,IAAIc,MAAM,GAAG,CAAC;EAEd,OAAO,SAASf,eAAe,GAAG;IAChCe,MAAM,IAAI,CAAC;IACX,OAAOA,MAAM;EACf,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}